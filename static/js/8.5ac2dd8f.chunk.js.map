{"version":3,"sources":["../node_modules/peerjs/dist sync","components/MyFileReceiver.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","MyFileReceiver","props","_this","Object","D_Test_my_test_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_Test_my_test_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_Test_my_test_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","match","params","peer","conn","console","log","connect","initializeConnection","err","data","blob","Blob","file","type","url","URL","createObjectURL","a","document","createElement","body","appendChild","style","href","download","name","click","revokeObjectURL","on","connOpen","bind","connData","connError","connClose","Peer","debug","config","iceServers","credential","username","peerOpen","peerConnection","peerDisconnected","peerClose","peerError","initializePeer","classes","react__WEBPACK_IMPORTED_MODULE_5___default","React","Component","withStyles","theme","button","margin","spacing","buttonInput","display","withTheme"],"mappings":"2EAAA,SAAAA,EAAAC,GACA,IAAAC,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEAF,EAAAK,KAAA,WAAuC,UACvCL,EAAAM,QAAAN,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,mICJMC,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDF,GAAKE,EAAMQ,MAAMC,OAAOX,GAE7BG,EAAKS,KAAO,KACZT,EAAKU,KAAO,KANGV,wEASVH,GACLc,QAAQC,IAAI,eAAiBf,GAE7BM,KAAKO,KAAOP,KAAKM,KAAKI,QAAQV,KAAKN,IACnCM,KAAKW,8DAEMJ,GACXP,KAAKO,KAAOA,EACZP,KAAKW,0IAICC,uCAGNJ,QAAQC,IAAI,gDAEPI,GACL,IAAIC,EAAO,IAAIC,KAAK,CAACF,EAAKG,MAAO,CAAEC,KAAMJ,EAAKI,OAE1CC,EAAMC,IAAIC,gBAAgBN,GAC1BO,EAAIC,SAASC,cAAc,KAC/BD,SAASE,KAAKC,YAAYJ,GAC1BA,EAAEK,MAAQ,eACVL,EAAEM,KAAOT,EACTG,EAAEO,SAAWf,EAAKgB,KAClBR,EAAES,QAEFX,IAAIY,gBAAgBb,qCAGdN,wFAINZ,KAAKO,KAAKyB,GAAG,OAAQhC,KAAKiC,SAASC,KAAKlC,OACxCA,KAAKO,KAAKyB,GAAG,OAAQhC,KAAKmC,SAASD,KAAKlC,OACxCA,KAAKO,KAAKyB,GAAG,QAAShC,KAAKoC,UAAUF,KAAKlC,OAC1CA,KAAKO,KAAKyB,GAAG,QAAShC,KAAKqC,UAAUH,KAAKlC,gDAmB1C,OAhBAA,KAAKM,KAAO,IAAIgC,IAAK,KAAM,CACvBC,MAAO,EACPC,OAAQ,CACJC,WAAc,CACV,CAAEvB,IAAK,iCACP,CAAEA,IAAK,wBAAyBwB,WAAY,SAAUC,SAAU,uBAK5E3C,KAAKM,KAAK0B,GAAG,OAAQhC,KAAK4C,SAASV,KAAKlC,OACxCA,KAAKM,KAAK0B,GAAG,aAAchC,KAAK6C,eAAeX,KAAKlC,OACpDA,KAAKM,KAAK0B,GAAG,eAAgBhC,KAAK8C,iBAAiBZ,KAAKlC,OACxDA,KAAKM,KAAK0B,GAAG,QAAShC,KAAK+C,UAAUb,KAAKlC,OAC1CA,KAAKM,KAAK0B,GAAG,QAAShC,KAAKgD,UAAUd,KAAKlC,OAEnCA,KAAKM,iDAIZN,KAAKiD,kDAKejD,KAAKJ,MAAjBsD,QAER,OACIC,EAAA9B,EAAAE,cAAA,mBA/EiB6B,IAAMC,WAgGpBC,sBAVA,SAAAC,GAAK,MAAK,CACrBC,OAAQ,CACJC,OAAQF,EAAMG,QAAQ,IAG1BC,YAAa,CACTC,QAAS,UAIiB,CAAEC,WAAW,GAAhCP,CAAwC3D","file":"static/js/8.5ac2dd8f.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 110;","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Peer from 'peerjs';\r\n\r\nclass MyFileReceiver extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.id = props.match.params.id;\r\n\r\n        this.peer = null;\r\n        this.conn = null;\r\n    }\r\n\r\n    peerOpen(id) {\r\n        console.log(\"Peer opened \" + id);\r\n\r\n        this.conn = this.peer.connect(this.id);\r\n        this.initializeConnection();\r\n    }\r\n    peerConnection(conn) {\r\n        this.conn = conn;\r\n        this.initializeConnection();\r\n    }\r\n    peerDisconnected() { }\r\n    peerClose() { }\r\n    peerError(err) { }\r\n\r\n    connOpen() {\r\n        console.log(\"conn opened\");\r\n    }\r\n    connData(data) {\r\n        let blob = new Blob([data.file], { type: data.type });\r\n\r\n        let url = URL.createObjectURL(blob);\r\n        let a = document.createElement(\"a\");\r\n        document.body.appendChild(a);\r\n        a.style = \"display:none\";\r\n        a.href = url;\r\n        a.download = data.name;\r\n        a.click();\r\n\r\n        URL.revokeObjectURL(url);\r\n\r\n    }\r\n    connError(err) { }\r\n    connClose() { }\r\n\r\n    initializeConnection() {\r\n        this.conn.on('open', this.connOpen.bind(this));\r\n        this.conn.on('data', this.connData.bind(this));\r\n        this.conn.on('error', this.connError.bind(this));\r\n        this.conn.on('close', this.connClose.bind(this));\r\n    }\r\n    initializePeer() {\r\n        this.peer = new Peer(null, {\r\n            debug: 3,\r\n            config: {\r\n                'iceServers': [\r\n                    { url: 'stun:stun1.l.google.com:19302' },\r\n                    { url: 'turn:numb.viagenie.ca', credential: 'muazkh', username: 'webrtc@live.com' }\r\n                ],\r\n            },\r\n        });\r\n\r\n        this.peer.on('open', this.peerOpen.bind(this));\r\n        this.peer.on('connection', this.peerConnection.bind(this));\r\n        this.peer.on('disconnected', this.peerDisconnected.bind(this));\r\n        this.peer.on('close', this.peerClose.bind(this));\r\n        this.peer.on('error', this.peerError.bind(this));\r\n\r\n        return this.peer;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.initializePeer();\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = theme => ({\r\n    button: {\r\n        margin: theme.spacing(1),\r\n    },\r\n\r\n    buttonInput: {\r\n        display: 'none',\r\n    },\r\n});\r\n\r\nexport default withStyles(styles, { withTheme: true })(MyFileReceiver);"],"sourceRoot":""}