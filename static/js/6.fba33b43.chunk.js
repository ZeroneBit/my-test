(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{137:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=137},173:function(e,n,t){"use strict";t.r(n);var i=t(19),a=t(10),o=t(21),r=t(20),l=t(22),c=t(0),s=t.n(c),u=t(169),h=t(135),p=t(174),d=t(12),b=t(136),v=t.n(b),f=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(o.a)(this,Object(r.a)(n).call(this,e))).state={progress:0,receiverUrl:""},t.textFieldRef=s.a.createRef(),t.peer=null,t.blob=null,t.conn=null,t}return Object(l.a)(n,e),Object(a.a)(n,[{key:"peerOpen",value:function(e){this.setState({receiverUrl:e})}},{key:"peerConnection",value:function(e){this.conn=e,this.initializeConnection()}},{key:"peerDisconnected",value:function(){}},{key:"peerClose",value:function(){}},{key:"peerError",value:function(e){}},{key:"initializePeer",value:function(){return this.peer=new v.a(null,{debug:3,config:{iceServers:[{url:"stun:stun1.l.google.com:19302"},{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}]}}),this.peer.on("open",this.peerOpen.bind(this)),this.peer.on("connection",this.peerConnection.bind(this)),this.peer.on("disconnected",this.peerDisconnected.bind(this)),this.peer.on("close",this.peerClose.bind(this)),this.peer.on("error",this.peerError.bind(this)),this.peer}},{key:"readFile",value:function(e){var n=e.target,t=n.files[0];this.blob=new Blob(n.files,{type:t.type}),this.initializePeer()}},{key:"oCopy",value:function(e){this.textFieldRef&&this.textFieldRef.value&&(this.textFieldRef.select(),document.execCommand("Copy"),this.setState({snackbarOpen:!0}))}},{key:"saveData",value:function(){var e=URL.createObjectURL(this.blob),n=document.createElement("a");document.body.appendChild(n),n.style="display:none",n.href=e,n.download="aa.jpg",n.click(),URL.revokeObjectURL(e)}},{key:"connOpen",value:function(){this.blob&&this.conn.send({file:this.blob,filename:"aa",filetype:"tt"})}},{key:"connData",value:function(e){this.blob=new Blob([e.file],{type:e.filetype}),this.saveData()}},{key:"connError",value:function(e){}},{key:"connClose",value:function(){}},{key:"initializeConnection",value:function(){this.conn.on("open",this.connOpen.bind(this)),this.conn.on("data",this.connData.bind(this)),this.conn.on("error",this.connError.bind(this)),this.conn.on("close",this.connClose.bind(this))}},{key:"urlChanged",value:function(e){var n=e.target.value;this.initializePeer(),this.conn=this.peer.connect(n),this.initializeConnection()}},{key:"render",value:function(){var e=this,n=this.props.classes;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("input",{id:"button-file",className:n.buttonInput,type:"file",onChange:this.readFile.bind(this)}),s.a.createElement("label",{htmlFor:"button-file"},s.a.createElement(u.a,{variant:"contained",component:"span",className:n.button,color:"primary"},"Select File"))),s.a.createElement("div",null,s.a.createElement(h.a,{variant:"determinate",color:"primary",value:this.state.progress})),s.a.createElement("div",null,s.a.createElement(p.a,{label:"Receiver Url",placeholder:"Receiver Url",variant:"outlined",margin:"normal",fullWidth:!0,value:this.state.receiverUrl,inputRef:function(n){e.textFieldRef=n}}),s.a.createElement(u.a,{variant:"contained",component:"span",className:n.button,color:"primary",disabled:!this.state.receiverUrl,onClick:this.oCopy.bind(this)},"Copy Receiver Url")),s.a.createElement("div",null,s.a.createElement(p.a,{label:"Input Id",variant:"outlined",margin:"normal",fullWidth:!0,onChange:this.urlChanged.bind(this)})))}}]),n}(s.a.Component);n.default=Object(d.a)(function(e){return{button:{margin:e.spacing(1)},buttonInput:{display:"none"}}},{withTheme:!0})(f)}}]);
//# sourceMappingURL=6.fba33b43.chunk.js.map